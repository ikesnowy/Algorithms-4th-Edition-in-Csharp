<!doctype html><html lang=zh dir=" ltr"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><title>Sort | 《算法（第四版）》C# 题解</title><link rel=manifest href=/manifest.json><link rel=icon href=/favicon.svg type=image/x-icon><link rel=stylesheet href=/book.min.b088d72622ac43ceeb356f529c02732d6afb9cfd58291c14fcaeead8eb52c9d8.css integrity="sha256-sIjXJiKsQ87rNW9SnAJzLWr7nP1YKRwU/K7q2OtSydg=" crossorigin=anonymous><script defer src=/flexsearch.min.js></script>
<script defer src=/zh.search.min.635d9312be95e14c6c4ab7cde1aedd6ed125832ca4b0f2a8ca291c2c6740110f.js integrity="sha256-Y12TEr6V4UxsSrfN4a7dbtElgyyksPKoyikcLGdAEQ8=" crossorigin=anonymous></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-71SCLB4WQT"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-71SCLB4WQT",{anonymize_ip:!1})}</script><link rel=alternate type=application/rss+xml href=https://alg4.ikesnowy.com/tags/sort/index.xml title="《算法（第四版）》C# 题解"><script>window.katexOption={delimiters:[{left:"$$",right:"$$",display:!0},{left:"\\[",right:"\\]",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1}]}</script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css integrity=sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.js integrity=sha384-VQ8d8WVFw0yHhCk5E8I86oOhv48xLpnDZx5T9GogA/Y84DcCKWXDmSDfn13bzFZY crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/contrib/auto-render.min.js integrity=sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR crossorigin=anonymous onload=renderMathInElement(document.body,window.katexOption)></script></head><body dir=" ltr"><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/><span>《算法（第四版）》C# 题解</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=搜索 aria-label=搜索 maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=/thanks/>特别感谢</a></li><li><a href=/1-1-1/>1.1.1</a></li><li><a href=/1-1-2/>1.1.2</a></li><li><a href=/1-1-3/>1.1.3</a></li><li><a href=/1-1-4/>1.1.4</a></li><li><a href=/1-1-5/>1.1.5</a></li><li><a href=/1-1-6/>1.1.6</a></li><li><a href=/1-1-7/>1.1.7</a></li><li><a href=/1-1-8/>1.1.8</a></li><li><a href=/1-1-9/>1.1.9</a></li><li><a href=/1-1-10/>1.1.10</a></li><li><a href=/1-1-11/>1.1.11</a></li><li><a href=/1-1-12/>1.1.12</a></li><li><a href=/1-1-13/>1.1.13</a></li><li><a href=/1-1-14/>1.1.14</a></li><li><a href=/1-1-15/>1.1.15</a></li><li><a href=/1-1-16/>1.1.16</a></li><li><a href=/1-1-17/>1.1.17</a></li><li><a href=/1-1-18/>1.1.18</a></li><li><a href=/1-1-19/>1.1.19</a></li><li><a href=/1-1-20/>1.1.20</a></li><li><a href=/1-1-21/>1.1.21</a></li><li><a href=/1-1-22/>1.1.22</a></li><li><a href=/1-1-23/>1.1.23</a></li><li><a href=/1-1-24/>1.1.24</a></li><li><a href=/1-1-25/>1.1.25</a></li><li><a href=/1-1-26/>1.1.26</a></li><li><a href=/1-1-27/>1.1.27</a></li><li><a href=/1-1-28/>1.1.28</a></li><li><a href=/1-1-29/>1.1.29</a></li><li><a href=/1-1-30/>1.1.30</a></li><li><a href=/1-1-31/>1.1.31</a></li><li><a href=/1-1-32/>1.1.32</a></li><li><a href=/1-1-33/>1.1.33</a></li><li><a href=/1-1-34/>1.1.34</a></li><li><a href=/1-1-35/>1.1.35</a></li><li><a href=/1-1-36/>1.1.36</a></li><li><a href=/1-1-37/>1.1.37</a></li><li><a href=/1-1-38/>1.1.38</a></li><li><a href=/1-1-39/>1.1.39</a></li><li><a href=/1-2-1/>1.2.1</a></li><li><a href=/1-2-2/>1.2.2</a></li><li><a href=/1-2-3/>1.2.3</a></li><li><a href=/1-2-4/>1.2.4</a></li><li><a href=/1-2-5/>1.2.5</a></li><li><a href=/1-2-6/>1.2.6</a></li><li><a href=/1-2-7/>1.2.7</a></li><li><a href=/1-2-8/>1.2.8</a></li><li><a href=/1-2-9/>1.2.9</a></li><li><a href=/1-2-10/>1.2.10</a></li><li><a href=/1-2-11/>1.2.11</a></li><li><a href=/1-2-12/>1.2.12</a></li><li><a href=/1-2-13/>1.2.13</a></li><li><a href=/1-2-14/>1.2.14</a></li><li><a href=/1-2-15/>1.2.15</a></li><li><a href=/1-2-16/>1.2.16</a></li><li><a href=/1-2-17/>1.2.17</a></li><li><a href=/1-2-18/>1.2.18</a></li><li><a href=/1-2-19/>1.2.19</a></li><li><a href=/1-3-1/>1.3.1</a></li><li><a href=/1-3-2/>1.3.2</a></li><li><a href=/1-3-3/>1.3.3</a></li><li><a href=/1-3-4/>1.3.4</a></li><li><a href=/1-3-5/>1.3.5</a></li><li><a href=/1-3-6/>1.3.6</a></li><li><a href=/1-3-7/>1.3.7</a></li><li><a href=/1-3-8/>1.3.8</a></li><li><a href=/1-3-9/>1.3.9</a></li><li><a href=/1-3-10/>1.3.10</a></li><li><a href=/1-3-11/>1.3.11</a></li><li><a href=/1-3-12/>1.3.12</a></li><li><a href=/1-3-13/>1.3.13</a></li><li><a href=/1-3-14/>1.3.14</a></li><li><a href=/1-3-15/>1.3.15</a></li><li><a href=/1-3-16/>1.3.16</a></li><li><a href=/1-3-17/>1.3.17</a></li><li><a href=/1-3-18/>1.3.18</a></li><li><a href=/1-3-19/>1.3.19</a></li><li><a href=/1-3-20/>1.3.20</a></li><li><a href=/1-3-21/>1.3.21</a></li><li><a href=/1-3-22/>1.3.22</a></li><li><a href=/1-3-23/>1.3.23</a></li><li><a href=/1-3-24/>1.3.24</a></li><li><a href=/1-3-25/>1.3.25</a></li><li><a href=/1-3-26/>1.3.26</a></li><li><a href=/1-3-27/>1.3.27</a></li><li><a href=/1-3-28/>1.3.28</a></li><li><a href=/1-3-29/>1.3.29</a></li><li><a href=/1-3-30/>1.3.30</a></li><li><a href=/1-3-31/>1.3.31</a></li><li><a href=/1-3-32/>1.3.32</a></li><li><a href=/1-3-33/>1.3.33</a></li><li><a href=/1-3-34/>1.3.34</a></li><li><a href=/1-3-35/>1.3.35</a></li><li><a href=/1-3-36/>1.3.36</a></li><li><a href=/1-3-37/>1.3.37</a></li><li><a href=/1-3-38/>1.3.38</a></li><li><a href=/1-3-39/>1.3.39</a></li><li><a href=/1-3-40/>1.3.40</a></li><li><a href=/1-3-41/>1.3.41</a></li><li><a href=/1-3-42/>1.3.42</a></li><li><a href=/1-3-43/>1.3.43</a></li><li><a href=/1-3-44/>1.3.44</a></li><li><a href=/1-3-45/>1.3.45</a></li><li><a href=/1-3-46/>1.3.46</a></li><li><a href=/1-3-47/>1.3.47</a></li><li><a href=/1-3-48/>1.3.48</a></li><li><a href=/1-3-49/>1.3.49</a></li><li><a href=/1-3-50/>1.3.50</a></li><li><a href=/1-4-1/>1.4.1</a></li><li><a href=/1-4-2/>1.4.2</a></li><li><a href=/1-4-3/>1.4.3</a></li><li><a href=/1-4-4/>1.4.4</a></li><li><a href=/1-4-5/>1.4.5</a></li><li><a href=/1-4-6/>1.4.6</a></li><li><a href=/1-4-7/>1.4.7</a></li><li><a href=/1-4-8/>1.4.8</a></li><li><a href=/1-4-9/>1.4.9</a></li><li><a href=/1-4-10/>1.4.10</a></li><li><a href=/1-4-11/>1.4.11</a></li><li><a href=/1-4-12/>1.4.12</a></li><li><a href=/1-4-13/>1.4.13</a></li><li><a href=/1-4-14/>1.4.14</a></li><li><a href=/1-4-15/>1.4.15</a></li><li><a href=/1-4-16/>1.4.16</a></li><li><a href=/1-4-17/>1.4.17</a></li><li><a href=/1-4-18/>1.4.18</a></li><li><a href=/1-4-19/>1.4.19</a></li><li><a href=/1-4-20/>1.4.20</a></li><li><a href=/1-4-21/>1.4.21</a></li><li><a href=/1-4-22/>1.4.22</a></li><li><a href=/1-4-23/>1.4.23</a></li><li><a href=/1-4-24/>1.4.24</a></li><li><a href=/1-4-25/>1.4.25</a></li><li><a href=/1-4-26/>1.4.26</a></li><li><a href=/1-4-27/>1.4.27</a></li><li><a href=/1-4-28/>1.4.28</a></li><li><a href=/1-4-29/>1.4.29</a></li><li><a href=/1-4-30/>1.4.30</a></li><li><a href=/1-4-31/>1.4.31</a></li><li><a href=/1-4-32/>1.4.32</a></li><li><a href=/1-4-33/>1.4.33</a></li><li><a href=/1-4-34/>1.4.34</a></li><li><a href=/1-4-35/>1.4.35</a></li><li><a href=/1-4-36/>1.4.36</a></li><li><a href=/1-4-37/>1.4.37</a></li><li><a href=/1-4-38/>1.4.38</a></li><li><a href=/1-4-39/>1.4.39</a></li><li><a href=/1-4-40/>1.4.40</a></li><li><a href=/1-4-41/>1.4.41</a></li><li><a href=/1-4-42/>1.4.42</a></li><li><a href=/1-4-43/>1.4.43</a></li><li><a href=/1-4-44/>1.4.44</a></li><li><a href=/1-4-45/>1.4.45</a></li><li><a href=/1-5-1/>1.5.1</a></li><li><a href=/1-5-2/>1.5.2</a></li><li><a href=/1-5-3/>1.5.3</a></li><li><a href=/1-5-4/>1.5.4</a></li><li><a href=/1-5-5/>1.5.5</a></li><li><a href=/1-5-6/>1.5.6</a></li><li><a href=/1-5-7/>1.5.7</a></li><li><a href=/1-5-8/>1.5.8</a></li><li><a href=/1-5-9/>1.5.9</a></li><li><a href=/1-5-10/>1.5.10</a></li><li><a href=/1-5-11/>1.5.11</a></li><li><a href=/1-5-12/>1.5.12</a></li><li><a href=/1-5-13/>1.5.13</a></li><li><a href=/1-5-14/>1.5.14</a></li><li><a href=/1-5-15/>1.5.15</a></li><li><a href=/1-5-16/>1.5.16</a></li><li><a href=/1-5-17/>1.5.17</a></li><li><a href=/1-5-18/>1.5.18</a></li><li><a href=/1-5-19/>1.5.19</a></li><li><a href=/1-5-20/>1.5.20</a></li><li><a href=/1-5-21/>1.5.21</a></li><li><a href=/1-5-22/>1.5.22</a></li><li><a href=/1-5-23/>1.5.23</a></li><li><a href=/1-5-24/>1.5.24</a></li><li><a href=/1-5-25/>1.5.25</a></li><li><a href=/1-5-26/>1.5.26</a></li><li><a href=/2-1-1/>2.1.1</a></li><li><a href=/2-1-2/>2.1.2</a></li><li><a href=/2-1-3/>2.1.3</a></li><li><a href=/2-1-4/>2.1.4</a></li><li><a href=/2-1-5/>2.1.5</a></li><li><a href=/2-1-6/>2.1.6</a></li><li><a href=/2-1-7/>2.1.7</a></li><li><a href=/2-1-8/>2.1.8</a></li><li><a href=/2-1-9/>2.1.9</a></li><li><a href=/2-1-10/>2.1.10</a></li><li><a href=/2-1-11/>2.1.11</a></li><li><a href=/2-1-12/>2.1.12</a></li><li><a href=/2-1-13/>2.1.13</a></li><li><a href=/2-1-14/>2.1.14</a></li><li><a href=/2-1-15/>2.1.15</a></li><li><a href=/2-1-16/>2.1.16</a></li><li><a href=/2-1-17/>2.1.17</a></li><li><a href=/2-1-18/>2.1.18</a></li><li><a href=/2-1-19/>2.1.19</a></li><li><a href=/2-1-20/>2.1.20</a></li><li><a href=/2-1-21/>2.1.21</a></li><li><a href=/2-1-22/>2.1.22</a></li><li><a href=/2-1-23/>2.1.23</a></li><li><a href=/2-1-24/>2.1.24</a></li><li><a href=/2-1-25/>2.1.25</a></li><li><a href=/2-1-26/>2.1.26</a></li><li><a href=/2-1-27/>2.1.27</a></li><li><a href=/2-1-28/>2.1.28</a></li><li><a href=/2-1-29/>2.1.29</a></li><li><a href=/2-1-30/>2.1.30</a></li><li><a href=/2-1-31/>2.1.31</a></li><li><a href=/2-1-32/>2.1.32</a></li><li><a href=/2-1-33/>2.1.33</a></li><li><a href=/2-1-34/>2.1.34</a></li><li><a href=/2-1-35/>2.1.35</a></li><li><a href=/2-1-36/>2.1.36</a></li><li><a href=/2-1-37/>2.1.37</a></li><li><a href=/2-1-38/>2.1.38</a></li><li><a href=/2-2-1/>2.2.1</a></li><li><a href=/2-2-2/>2.2.2</a></li><li><a href=/2-2-3/>2.2.3</a></li><li><a href=/2-2-4/>2.2.4</a></li><li><a href=/2-2-5/>2.2.5</a></li><li><a href=/2-2-6/>2.2.6</a></li><li><a href=/2-2-7/>2.2.7</a></li><li><a href=/2-2-8/>2.2.8</a></li><li><a href=/2-2-9/>2.2.9</a></li><li><a href=/2-2-10/>2.2.10</a></li><li><a href=/2-2-11/>2.2.11</a></li><li><a href=/2-2-12/>2.2.12</a></li><li><a href=/2-2-13/>2.2.13</a></li><li><a href=/2-2-14/>2.2.14</a></li><li><a href=/2-2-15/>2.2.15</a></li><li><a href=/2-2-16/>2.2.16</a></li><li><a href=/2-2-17/>2.2.17</a></li><li><a href=/2-2-18/>2.2.18</a></li><li><a href=/2-2-19/>2.2.19</a></li><li><a href=/2-2-20/>2.2.20</a></li><li><a href=/2-2-21/>2.2.21</a></li><li><a href=/2-2-22/>2.2.22</a></li><li><a href=/2-2-23/>2.2.23</a></li><li><a href=/2-2-24/>2.2.24</a></li><li><a href=/2-2-25/>2.2.25</a></li><li><a href=/2-2-26/>2.2.26</a></li><li><a href=/2-2-27/>2.2.27</a></li><li><a href=/2-2-28/>2.2.28</a></li><li><a href=/2-2-29/>2.2.29</a></li><li><a href=/2-3-1/>2.3.1</a></li><li><a href=/2-3-2/>2.3.2</a></li><li><a href=/2-3-3/>2.3.3</a></li><li><a href=/2-3-4/>2.3.4</a></li><li><a href=/2-3-5/>2.3.5</a></li><li><a href=/2-3-6/>2.3.6</a></li><li><a href=/2-3-7/>2.3.7</a></li><li><a href=/2-3-8/>2.3.8</a></li><li><a href=/2-3-9/>2.3.9</a></li><li><a href=/2-3-10/>2.3.10</a></li><li><a href=/2-3-11/>2.3.11</a></li><li><a href=/2-3-12/>2.3.12</a></li><li><a href=/2-3-13/>2.3.13</a></li><li><a href=/2-3-14/>2.3.14</a></li><li><a href=/2-3-15/>2.3.15</a></li><li><a href=/2-3-16/>2.3.16</a></li><li><a href=/2-3-17/>2.3.17</a></li><li><a href=/2-3-18/>2.3.18</a></li><li><a href=/2-3-19/>2.3.19</a></li><li><a href=/2-3-20/>2.3.20</a></li><li><a href=/2-3-21/>2.3.21</a></li><li><a href=/2-3-22/>2.3.22</a></li><li><a href=/2-3-23/>2.3.23</a></li><li><a href=/2-3-24/>2.3.24</a></li><li><a href=/2-3-25/>2.3.25</a></li><li><a href=/2-3-26/>2.3.26</a></li><li><a href=/2-3-27/>2.3.27</a></li><li><a href=/2-3-28/>2.3.28</a></li><li><a href=/2-3-29/>2.3.29</a></li><li><a href=/2-3-30/>2.3.30</a></li><li><a href=/2-3-31/>2.3.31</a></li><li><a href=/2-4-1/>2.4.1</a></li><li><a href=/2-4-2/>2.4.2</a></li><li><a href=/2-4-3/>2.4.3</a></li><li><a href=/2-4-4/>2.4.4</a></li><li><a href=/2-4-5/>2.4.5</a></li><li><a href=/2-4-6/>2.4.6</a></li><li><a href=/2-4-7/>2.4.7</a></li><li><a href=/2-4-8/>2.4.8</a></li><li><a href=/2-4-9/>2.4.9</a></li><li><a href=/2-4-10/>2.4.10</a></li><li><a href=/2-4-11/>2.4.11</a></li><li><a href=/2-4-12/>2.4.12</a></li><li><a href=/2-4-13/>2.4.13</a></li><li><a href=/2-4-14/>2.4.14</a></li><li><a href=/2-4-15/>2.4.15</a></li><li><a href=/2-4-16/>2.4.16</a></li><li><a href=/2-4-17/>2.4.17</a></li><li><a href=/2-4-18/>2.4.18</a></li><li><a href=/2-4-19/>2.4.19</a></li><li><a href=/2-4-20/>2.4.20</a></li><li><a href=/2-4-21/>2.4.21</a></li><li><a href=/2-4-22/>2.4.22</a></li><li><a href=/2-4-23/>2.4.23</a></li><li><a href=/2-4-24/>2.4.24</a></li><li><a href=/2-4-25/>2.4.25</a></li><li><a href=/2-4-26/>2.4.26</a></li><li><a href=/2-4-27/>2.4.27</a></li><li><a href=/2-4-28/>2.4.28</a></li><li><a href=/2-4-29/>2.4.29</a></li><li><a href=/2-4-30/>2.4.30</a></li><li><a href=/2-4-31/>2.4.31</a></li><li><a href=/2-4-32/>2.4.32</a></li><li><a href=/2-4-33/>2.4.33</a></li><li><a href=/2-4-34/>2.4.34</a></li><li><a href=/2-4-35/>2.4.35</a></li><li><a href=/2-4-36/>2.4.36</a></li><li><a href=/2-4-37/>2.4.37</a></li><li><a href=/2-4-38/>2.4.38</a></li><li><a href=/2-4-39/>2.4.39</a></li><li><a href=/2-4-40/>2.4.40</a></li><li><a href=/2-4-41/>2.4.41</a></li><li><a href=/2-4-42/>2.4.42</a></li><li><a href=/2-5-1/>2.5.1</a></li><li><a href=/2-5-2/>2.5.2</a></li><li><a href=/2-5-3/>2.5.3</a></li><li><a href=/2-5-4/>2.5.4</a></li><li><a href=/2-5-5/>2.5.5</a></li><li><a href=/2-5-6/>2.5.6</a></li><li><a href=/2-5-7/>2.5.7</a></li><li><a href=/2-5-8/>2.5.8</a></li><li><a href=/2-5-9/>2.5.9</a></li><li><a href=/2-5-10/>2.5.10</a></li><li><a href=/2-5-11/>2.5.11</a></li><li><a href=/2-5-12/>2.5.12</a></li><li><a href=/2-5-13/>2.5.13</a></li><li><a href=/2-5-14/>2.5.14</a></li><li><a href=/2-5-15/>2.5.15</a></li><li><a href=/2-5-16/>2.5.16</a></li><li><a href=/2-5-17/>2.5.17</a></li><li><a href=/2-5-18/>2.5.18</a></li><li><a href=/2-5-19/>2.5.19</a></li><li><a href=/2-5-20/>2.5.20</a></li><li><a href=/2-5-21/>2.5.21</a></li><li><a href=/2-5-22/>2.5.22</a></li><li><a href=/2-5-23/>2.5.23</a></li><li><a href=/2-5-24/>2.5.24</a></li><li><a href=/2-5-25/>2.5.25</a></li><li><a href=/2-5-26/>2.5.26</a></li><li><a href=/2-5-27/>2.5.27</a></li><li><a href=/2-5-28/>2.5.28</a></li><li><a href=/2-5-29/>2.5.29</a></li><li><a href=/2-5-30/>2.5.30</a></li><li><a href=/2-5-31/>2.5.31</a></li><li><a href=/2-5-32/>2.5.32</a></li><li><a href=/2-5-33/>2.5.33</a></li><li><a href=/3-1-1/>3.1.1</a></li><li><a href=/3-1-2/>3.1.2</a></li><li><a href=/3-1-3/>3.1.3</a></li><li><a href=/3-1-4/>3.1.4</a></li><li><a href=/3-1-5/>3.1.5</a></li><li><a href=/3-1-6/>3.1.6</a></li><li><a href=/3-1-7/>3.1.7</a></li><li><a href=/3-1-8/>3.1.8</a></li><li><a href=/3-1-9/>3.1.9</a></li><li><a href=/3-1-10/>3.1.10</a></li><li><a href=/3-1-11/>3.1.11</a></li><li><a href=/3-1-12/>3.1.12</a></li><li><a href=/3-1-13/>3.1.13</a></li><li><a href=/3-1-14/>3.1.14</a></li><li><a href=/3-1-15/>3.1.15</a></li><li><a href=/3-1-16/>3.1.16</a></li><li><a href=/3-1-17/>3.1.17</a></li><li><a href=/3-1-18/>3.1.18</a></li><li><a href=/3-1-19/>3.1.19</a></li><li><a href=/3-1-20/>3.1.20</a></li><li><a href=/3-1-21/>3.1.21</a></li><li><a href=/3-1-22/>3.1.22</a></li><li><a href=/3-1-23/>3.1.23</a></li><li><a href=/3-1-24/>3.1.24</a></li><li><a href=/3-1-25/>3.1.25</a></li><li><a href=/3-1-26/>3.1.26</a></li><li><a href=/3-1-27/>3.1.27</a></li><li><a href=/3-1-28/>3.1.28</a></li><li><a href=/3-1-29/>3.1.29</a></li><li><a href=/3-1-30/>3.1.30</a></li><li><a href=/3-1-31/>3.1.31</a></li><li><a href=/3-1-32/>3.1.32</a></li><li><a href=/3-1-33/>3.1.33</a></li><li><a href=/3-1-34/>3.1.34</a></li><li><a href=/3-1-35/>3.1.35</a></li><li><a href=/3-1-36/>3.1.36</a></li><li><a href=/3-1-37/>3.1.37</a></li><li><a href=/3-1-38/>3.1.38</a></li><li><a href=/3-1-39/>3.1.39</a></li><li><a href=/3-1-40/>3.1.40</a></li><li><a href=/3-1-41/>3.1.41</a></li><li><a href=/3-2-1/>3.2.1</a></li><li><a href=/3-2-2/>3.2.2</a></li><li><a href=/3-2-3/>3.2.3</a></li><li><a href=/3-2-4/>3.2.4</a></li><li><a href=/3-2-5/>3.2.5</a></li><li><a href=/3-2-6/>3.2.6</a></li><li><a href=/3-2-7/>3.2.7</a></li><li><a href=/3-2-8/>3.2.8</a></li><li><a href=/3-2-9/>3.2.9</a></li><li><a href=/3-2-10/>3.2.10</a></li><li><a href=/3-2-11/>3.2.11</a></li><li><a href=/3-2-12/>3.2.12</a></li><li><a href=/3-2-13/>3.2.13</a></li><li><a href=/3-2-14/>3.2.14</a></li><li><a href=/3-2-15/>3.2.15</a></li><li><a href=/3-2-16/>3.2.16</a></li><li><a href=/3-2-17/>3.2.17</a></li><li><a href=/3-2-18/>3.2.18</a></li><li><a href=/3-2-19/>3.2.19</a></li><li><a href=/3-2-20/>3.2.20</a></li><li><a href=/3-2-21/>3.2.21</a></li><li><a href=/3-2-22/>3.2.22</a></li><li><a href=/3-2-23/>3.2.23</a></li><li><a href=/3-2-24/>3.2.24</a></li><li><a href=/3-2-25/>3.2.25</a></li><li><a href=/3-2-26/>3.2.26</a></li><li><a href=/3-2-27/>3.2.27</a></li><li><a href=/3-2-28/>3.2.28</a></li><li><a href=/3-2-29/>3.2.29</a></li><li><a href=/3-2-30/>3.2.30</a></li><li><a href=/3-2-31/>3.2.31</a></li><li><a href=/3-2-32/>3.2.32</a></li><li><a href=/3-2-33/>3.2.33</a></li><li><a href=/3-2-34/>3.2.34</a></li><li><a href=/3-2-35/>3.2.35</a></li><li><a href=/3-2-36/>3.2.36</a></li><li><a href=/3-2-37/>3.2.37</a></li><li><a href=/3-2-38/>3.2.38</a></li><li><a href=/3-2-39/>3.2.39</a></li><li><a href=/3-2-40/>3.2.40</a></li><li><a href=/3-2-41/>3.2.41</a></li><li><a href=/3-2-42/>3.2.42</a></li><li><a href=/3-2-43/>3.2.43</a></li><li><a href=/3-2-44/>3.2.44</a></li><li><a href=/3-2-45/>3.2.45</a></li><li><a href=/3-2-46/>3.2.46</a></li><li><a href=/3-2-47/>3.2.47</a></li><li><a href=/3-3-1/>3.3.1</a></li><li><a href=/3-3-2/>3.3.2</a></li><li><a href=/3-3-3/>3.3.3</a></li><li><a href=/3-3-4/>3.3.4</a></li><li><a href=/3-3-5/>3.3.5</a></li><li><a href=/3-3-6/>3.3.6</a></li><li><a href=/3-3-7/>3.3.7</a></li><li><a href=/3-3-8/>3.3.8</a></li><li><a href=/3-3-9/>3.3.9</a></li><li><a href=/3-3-10/>3.3.10</a></li><li><a href=/3-3-11/>3.3.11</a></li><li><a href=/3-3-12/>3.3.12</a></li><li><a href=/3-3-13/>3.3.13</a></li><li><a href=/3-3-14/>3.3.14</a></li><li><a href=/3-3-15/>3.3.15</a></li><li><a href=/3-3-16/>3.3.16</a></li><li><a href=/run-solution-code/>如何：运行题解代码</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Sort</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav><ul><li class=book-section-flat><strong>Categories</strong><ul></ul></li><li class=book-section-flat><strong>Tags</strong><ul><li class="flex justify-between"><a href=/tags/searching/>Searching</a>
<span>104</span></li><li class="flex justify-between"><a href=/tags/sort/>Sort</a>
<span>173</span></li><li class="flex justify-between"><a href=/tags/fundamental/>Fundamental</a>
<span>179</span></li><li class="flex justify-between"><a href=/tags/%E8%BF%90%E8%A1%8C%E4%BB%A3%E7%A0%81/>运行代码</a>
<span>1</span></li></ul></li></ul></nav></aside></header><article class="markdown book-post"><h2><a href=/2-4-33/>2.4.33</a></h2><h5>2018-11-2</h5><div><a href=/tags/sort/>Sort</a></div><p>2.4.33 # 解答 # 官方实现见：https://algs4.cs.princeton.edu/24pq/IndexMaxPQ.java.html
书中算法 2.6 给出的是一个最大堆的实现，但本题给出的部分解答却是最小堆的。
同时官网给出的解答是最大堆的，这里选择和官网保持一致，给出最大堆的实现。
初看起来可能会比较难理解，但其实就是以指针为元素的堆。
堆中存放的只是指向元素的指针（如果元素在数组里那就变成了下标）。
做比较的时候要先根据指针（下标）找到对应元素，再进行比较。
再来看题目中给出的要求，keys[] 数组中用于保存元素（比如 keys[0] = ‘A’;），
而 pq[] 中保存的是元素在 key[] 数组中的下标（比如 pq[1] = 0;)，
而 qp[] 中保存的是某个下标在 pq[]中 的对应位置。 （比如 qp[0] = 1）。
在这三个数组中，pq[]是一个堆，我们的堆操作都作用在这个数组上。
keys[] 数组中的元素不随着 pq[] 中下标的移动而移动，只有当删除或添加元素时才发生变化。
qp[]与pq[]中的索引一一对应，pq[]交换时也需要交换qp[]中的对应元素。
代码 # public class IndexMaxPq&lt;TKey> : IEnumerable&lt;int> where TKey : IComparable&lt;TKey> { /// &lt;summary> /// 优先队列中的元素。 /// &lt;/summary> private int _n; /// &lt;summary> /// 索引最大堆。 /// &lt;/summary> private readonly int[] _pq; /// &lt;summary> /// pq 的逆索引，pq[qp[i]]=qp[pq[i]]=i /// &lt;/summary> private readonly int[] _qp; /// &lt;summary> /// 实际元素。 /// &lt;/summary> private readonly TKey[] _keys; /// &lt;summary> /// 建立指定大小的面向索引的最大堆。 /// &lt;/summary> /// &lt;param name="capacity">最大堆的容量。&lt;/param> public IndexMaxPq(int capacity) { if (capacity &lt; 0) throw new ArgumentOutOfRangeException(); _n = 0; _keys = new TKey[capacity + 1]; _pq = new int[capacity + 1]; _qp = new int[capacity + 1]; for (var i = 0; i &lt;= capacity; i++) _qp[i] = -1; } /// &lt;summary> /// 将与索引 &lt;paramref name="i"/> 相关联的元素换成 &lt;paramref name="k"/>。 /// &lt;/summary> /// &lt;param name="i">要修改关联元素的索引。&lt;/param> /// &lt;param name="k">用于替换的新元素。&lt;/param> public void ChangeKey(int i, TKey k) { if (!
<a href=/2-4-33/>...</a></p></article><article class="markdown book-post"><h2><a href=/2-4-34/>2.4.34</a></h2><h5>2018-12-27</h5><div><a href=/tags/sort/>Sort</a></div><p>2.4.34 # 解答 # 这里给出最大堆的实现，原因同 2.4.33。
maxIndex()：pq[1] 就是最小元素的下标。
change()：首先修改 keys 数组中对应的元素，然后对堆中该下标进行重排序。
delete()：先从堆中删除元素，再把 keys 和 qp 数组中的对应元素初始化。
代码 # /// &lt;summary> /// 返回最大元素对应的索引。 /// &lt;/summary> /// &lt;returns>最大元素对应的索引。&lt;/returns> /// &lt;exception cref="ArgumentOutOfRangeException">当优先队列为空时抛出该异常。&lt;/exception> public int MaxIndex() { if (_n == 0) throw new InvalidOperationException("Priority Queue Underflow"); return _pq[1]; } /// &lt;summary> /// 将与索引 &lt;paramref name="i"/> 相关联的元素换成 &lt;paramref name="k"/>。 /// &lt;/summary> /// &lt;param name="i">要修改关联元素的索引。&lt;/param> /// &lt;param name="k">用于替换的新元素。&lt;/param> public void ChangeKey(int i, TKey k) { if (!
<a href=/2-4-34/>...</a></p></article><article class="markdown book-post"><h2><a href=/2-4-35/>2.4.35</a></h2><h5>2018-12-28</h5><div><a href=/tags/sort/>Sort</a></div><p>2.4.35 # 解答 # 本题有两个翻译错误。
random() ——返回索引 i 的概率是 p[i]/T，而非返回概率和索引。（return an index i with probability p[i]/T）
最后一句指的是像堆那样使用数组而非显式指针实现二叉树。（Avoid explicit pointers, as we do for heaps.）
提示已经给出了实现方案，我们用一个例子来简单说明一下。
现在给出一个分布 p，总和 T=1，如下图所示：
为了实现这样的随机分布，我们在 0~T 之间随机一个小数，然后根据结果返回不同的值。 现在我们将这个思想应用到完全二叉树上。
每次随机的过程其实构成了一棵选择树，我们把数组 p 当作一棵树，如下图：
为方便起见，我们重新排列一下之前的随机表：
每个值的概率并没有改变，只是每个值对应的区段换了一下。
经过这样的变换后，你会发现，如果从根结点的角度看：
如果随机的值小于 0.1，对应的编号就是 1。
如果随机的值大于 0.5，那么对应编号只能是 3 或 6，即根结点的右子树。
其他情况对应编号在左子树上。
扩展到一般情况，就变成了：
如果随机数小于当前结点，直接返回当前结点的编号。
如果随机数大于左子树权值总和+当前结点的权值，减去它们，移动到右子树。
其他情况减去当前结点的权值并移动到左子树。
思想理解之后，代码实现就比较容易了，做了 100000 次实验的结果如下：
代码 # internal class Sample { public double[] P; public double[] SumP; public double T; private readonly Random _random = new(); /// &lt;summary> /// 构造一个离散取样类。 /// &lt;/summary> /// &lt;param name="data">取样数据。&lt;/param> public Sample(double[] data) { // 复制权重 P = new double[data.
<a href=/2-4-35/>...</a></p></article><article class="markdown book-post"><h2><a href=/2-4-36/>2.4.36</a></h2><h5>2018-12-28</h5><div><a href=/tags/sort/>Sort</a></div><p>2.4.36 # 解答 # 测试结果如下：
可以看出增长数量级约为 O(nlogn)。
代码 # var doubleTime = 5; var repeatTime = 5; var n = 100000; for (var i = 0; i &lt; doubleTime; i++) { long totalTime = 0; Console.WriteLine("count=" + n); for (var j = 0; j &lt; repeatTime; j++) { var pq = new MaxPq&lt;int>(n); var time = Test(pq, n); Console.Write(time + "\t"); totalTime += time; } Console.WriteLine("平均用时：" + totalTime / repeatTime + "毫秒"); n *= 2; } long Test(MaxPq&lt;int> pq, int count) { var random = new Random(); // 生成数据 var initData = new int[count]; var appendData = new int[count / 2]; for (var i = 0; i &lt; count; i++) initData[i] = random.
<a href=/2-4-36/>...</a></p></article><article class="markdown book-post"><h2><a href=/2-4-37/>2.4.37</a></h2><h5>2018-12-28</h5><div><a href=/tags/sort/>Sort</a></div><p>2.4.37 # 解答 # 建立一个全局变量 isRunning ，每次 DelMax() 之前都先确认这个值是否为 true，
设立一个 Timer 在 1 秒钟之后自动将 isRunning 置为 false。
测试结果如下：
随着 n 增大，一秒钟之内能执行的 DelMax() 次数会下降。
代码 # var doubleTime = 6; var repeatTime = 6; var n = 1000000; var isRunning = true; for (var i = 0; i &lt; doubleTime; i++) { var totalDelCount = 0; Console.WriteLine("count=" + n); for (var j = 0; j &lt; repeatTime; j++) { var pq = new MaxPq&lt;int>(n); var delCount = Test(n, pq); totalDelCount += delCount; Console.
<a href=/2-4-37/>...</a></p></article><article class="markdown book-post"><h2><a href=/2-4-38/>2.4.38</a></h2><h5>2018-12-28</h5><div><a href=/tags/sort/>Sort</a></div><p>2.4.38 # 解答 # 直接构造相应的数组测试即可。
测试结果如下：
最大堆来说顺序时会比较慢，因为每次插入都要一路上升到顶部。
逆序的时候则是删除比较慢，最后一个元素是最小的元素，交换后需要一路下沉到底部。
由于元素相同的时候我们选择不交换（less(i, j) 返回 false），较多的重复元素并不会影响性能。
代码 # var random = new Random(); var n = 200000; var repeatTimes = 5; var doubleTimes = 4; for (var i = 0; i &lt; doubleTimes; i++) { Console.WriteLine("number=" + n); // 升序数组 long totalTime = 0; Console.Write("Ascending:\t"); for (var j = 0; j &lt; repeatTimes; j++) { var pq = new MaxPq&lt;int>(n); var data = GetAscending(n); var time = Test(pq, data); Console.
<a href=/2-4-38/>...</a></p></article><article class="markdown book-post"><h2><a href=/2-4-39/>2.4.39</a></h2><h5>2018-12-29</h5><div><a href=/tags/sort/>Sort</a></div><p>2.4.39 # 解答 # 结果如下，约占总耗时的 2~5%。 代码 # var random = new Random(); Console.WriteLine("number\tBuild\tSort\tRatio"); var n = 1000; // 当数据量到达 10^9 时会需要 2G 左右的内存 var multiTen = 7; for (var i = 0; i &lt; multiTen; i++) { var data = GetRandomArray(n); var fullSort = new Stopwatch(); var buildHeap = new Stopwatch(); fullSort.Restart(); buildHeap.Restart(); BuildHeap(data); buildHeap.Stop(); HeapSort(data); fullSort.Stop(); var buildTime = buildHeap.ElapsedMilliseconds; var fullTime = fullSort.ElapsedMilliseconds; Console.WriteLine(n + "\t" + buildTime + "\t" + fullTime + "\t" + (double)buildTime / fullTime); n *= 10; } short[] GetRandomArray(int number) { var data = new short[number]; for (var i = 0; i &lt; number; i++) { data[i] = (short)random.
<a href=/2-4-39/>...</a></p></article><article class="markdown book-post"><h2><a href=/2-4-40/>2.4.40</a></h2><h5>2018-12-29</h5><div><a href=/tags/sort/>Sort</a></div><p>2.4.40 # 解答 # 如同书上所说，可以节省约 50% 的比较次数。 先沉后浮的实现也很简单，将 swim 方法加入，
然后修改 sink 方法，去掉其中检查是否需要下沉的条件（if(!Less(pq, k, j))），
然后在 sink 方法的循环之后调用 swim。
为了获得比较次数，你可以添加一个静态全局变量 compareCount，
然后修改 Less 方法，在作比较的同时使 compareCount++ ，
每次执行 Sort 时先让 compareCount 置零，最后返回 compareCount。
代码 # public static class HeapFloyd { /// &lt;summary> /// 利用堆排序对数组进行排序。 /// &lt;/summary> /// &lt;param name="pq">需要排序的数组。&lt;/param> public static void Sort&lt;T>(T[] pq) where T : IComparable&lt;T> { var n = pq.Length; // 建堆 for (var k = n / 2; k >= 1; k--) { Sink(pq, k, n); } // 排序 while (n > 1) { Exch(pq, 1, n--); SinkThenSwim(pq, 1, n); } } /// &lt;summary> /// 令堆中的元素下沉。 /// &lt;/summary> /// &lt;param name="pq">需要执行操作的堆。&lt;/param> /// &lt;param name="k">需要执行下沉的结点下标。&lt;/param> /// &lt;param name="n">堆中元素的数目。&lt;/param> private static void Sink&lt;T>(T[] pq, int k, int n) where T : IComparable&lt;T> { while (2 * k &lt;= n) { var j = 2 * k; if (j &lt; n && Less(pq, j, j + 1)) j++; if (!
<a href=/2-4-40/>...</a></p></article><article class="markdown book-post"><h2><a href=/2-4-41/>2.4.41</a></h2><h5>2018-12-29</h5><div><a href=/tags/sort/>Sort</a></div><p>2.4.41 # 解答 # 多叉堆和二叉堆的实现上并没有很大的区别，
只不过下沉（Sink）时需要比较的子结点数量变多了，上浮时父结点的下标不再是 $\lfloor k /2 \rfloor$。
于是只要能推出 $d$ 叉堆的下标换算公式即可解决整个问题。
先考虑 $d$ 叉堆的在数组中的保存方式，
第一层显然只有根结点，第二层显然有 $d$ 个结点，第三层则有 $d \times d=d^2$ 个结点，如下图所示：
不难推出第 $k$ 层有 $d^{k-1}$ 个结点。
接下来我们对其标号，根结点为 1，以此类推，如下图：
现在我们来推导某个结点的子结点的下标公式。
结点 $i$ 的第一个子结点在哪里呢？
首先要加上本层剩下的结点，再加上它前面结点的所有子结点，再下一个就是它的第一个子结点了。
以 2 号结点为例，它是第二层的第一个结点，第二层共有 $d^{2-1}=d$ 个结点，剩下 $d-1$ 个结点。
2 号结点前面没有更多兄弟结点，于是第一个子结点下标即为 $2 + d - 1 + 1= 2 + d$。
3 号结点之后剩余 $d-2$ 个结点，加上前面 2 号结点的 $d$ 个子结点，
它的第一个子结点下标为 $3+d-2+d+1= 2+2d$。
不难发现规律，结点序号加一，子结点的下标就要对应加上 $d$（要加上前一个结点的子结点），
这个规律也可以从图上（$d=3$）看出来：
1号结点的子结点范围是 $[2,d+1]$，每加一个结点子结点就要加上 $d$ 。
<a href=/2-4-41/>...</a></p></article><article class="markdown book-post"><h2><a href=/2-4-42/>2.4.42</a></h2><h5>2018-12-31</h5><div><a href=/tags/sort/>Sort</a></div><p>2.4.42 # 解答 # 前序序列与完全二叉树 # 二叉树前序遍历的顺序是：自身，左子树，右子树。
因此对于一个前序遍历序列，第一个元素是根结点，第二个元素是左子结点。
再把左子结点找到，就可以把数组分成三部分：根结点，左子树，右子树，进而递归的构造出整个二叉树。
现在问题是，右子结点在哪，或者说，左子树有多大？
这里就要用到完全二叉树的性质了，我们先从比较简单的满二叉树入手。
就满二叉树而言，根结点的左子树和右子树是一样大的，即左右子树大小均为 $(n-1)/2$ 。
在这种情形下，右子结点的下标显然是 $(n+1)/2$ ，根结点下标为 0。 完全二叉树可以视为在满二叉树的基础上加了一层叶子结点，现在我们已知结点总数 $n$。
于是可以求得二叉树的高度 $k=\lfloor \log_2(n) \rfloor$ ，注意只有一个结点的树高度为 0。
那么最后一层的叶子结点数目为 $l=n-2^{k}+1$ 个，如下图所示：
如果把最后一层（第 $k$ 层）去掉，剩余部分即为高度为 $k-1$ 的满二叉树，结点总数为 $2^k - 1$ 。
按照之前的说明可以知道左右子树大小都等于 $(2^{k}-2)/2=2^{k-1}-1$。
现在要将第 $k$ 层的 $l$ 个结点分到左右子树里面去。
第 $k$ 层最多能有 $2^k$ 个结点，取半就是 $2^k / 2 = 2^{k-1}$ 个。
于是当 $l&lt;=2^{k-1}$ 时，左右子树大小分别为 $2^{k-1}-1+l$ 和 $2^{k-1}-1$ 。
当 $l > 2^{k-1}$ 时，左右子树大小分别为 $2^{k} - 1$ 和 $2^{k-1} -1 +l -2^{k-1}=l-1$ 。
<a href=/2-4-42/>...</a></p></article><ul class="pagination pagination-default"><li class=page-item><a href=/tags/sort/ aria-label=First class=page-link role=button><span aria-hidden=true>&#171;&#171;</span></a></li><li class=page-item><a href=/tags/sort/page/13/ aria-label=Previous class=page-link role=button><span aria-hidden=true>&#171;</span></a></li><li class=page-item><a href=/tags/sort/page/12/ aria-label="Page 12" class=page-link role=button>12</a></li><li class=page-item><a href=/tags/sort/page/13/ aria-label="Page 13" class=page-link role=button>13</a></li><li class="page-item active"><a aria-current=page aria-label="Page 14" class=page-link role=button>14</a></li><li class=page-item><a href=/tags/sort/page/15/ aria-label="Page 15" class=page-link role=button>15</a></li><li class=page-item><a href=/tags/sort/page/16/ aria-label="Page 16" class=page-link role=button>16</a></li><li class=page-item><a href=/tags/sort/page/15/ aria-label=Next class=page-link role=button><span aria-hidden=true>&#187;</span></a></li><li class=page-item><a href=/tags/sort/page/18/ aria-label=Last class=page-link role=button><span aria-hidden=true>&#187;&#187;</span></a></li></ul><footer class=book-footer><div class="flex flex-wrap justify-between"></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}})()</script></footer><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav><ul><li class=book-section-flat><strong>Categories</strong><ul></ul></li><li class=book-section-flat><strong>Tags</strong><ul><li class="flex justify-between"><a href=/tags/searching/>Searching</a>
<span>104</span></li><li class="flex justify-between"><a href=/tags/sort/>Sort</a>
<span>173</span></li><li class="flex justify-between"><a href=/tags/fundamental/>Fundamental</a>
<span>179</span></li><li class="flex justify-between"><a href=/tags/%E8%BF%90%E8%A1%8C%E4%BB%A3%E7%A0%81/>运行代码</a>
<span>1</span></li></ul></li></ul></nav></div></aside></main></body></html>